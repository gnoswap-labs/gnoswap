loadpkg gno.land/p/nt/avl
loadpkg gno.land/p/nt/ufmt
loadpkg gno.land/p/onbloc/json
loadpkg gno.land/p/nt/ownable
loadpkg gno.land/p/demo/tokens/grc20
loadpkg gno.land/p/demo/tokens/grc721
loadpkg gno.land/r/demo/defi/foo20

loadpkg gno.land/r/sys/users
loadpkg gno.land/r/gnoland/wugnot
loadpkg gno.land/r/demo/defi/grc20reg

loadpkg gno.land/r/gnoswap/access
loadpkg gno.land/p/gnoswap/uint256
loadpkg gno.land/p/gnoswap/int256
loadpkg gno.land/p/gnoswap/gnsmath
loadpkg gno.land/p/gnoswap/store
loadpkg gno.land/p/gnoswap/version_manager

loadpkg gno.land/r/gnoswap/access
loadpkg gno.land/r/gnoswap/rbac
loadpkg gno.land/r/gnoswap/halt
loadpkg gno.land/r/gnoswap/common
loadpkg gno.land/r/gnoswap/referral

loadpkg gno.land/r/gnoswap/gns
loadpkg gno.land/r/gnoswap/gnft
loadpkg gno.land/r/gnoswap/gov/xgns
loadpkg gno.land/r/gnoswap/emission

loadpkg gno.land/r/gnoswap/protocol_fee
loadpkg gno.land/r/gnoswap/protocol_fee/v1

loadpkg gno.land/r/gnoswap/gov/staker
loadpkg gno.land/r/gnoswap/gov/staker/v1

loadpkg gno.land/r/gnoswap/gov/governance
loadpkg gno.land/r/gnoswap/gov/governance/v1

adduserfrom gns_admin 'source bonus chronic canvas draft south burst lottery vacant surface solve popular case indicate oppose farm nothing bullet exhibit title speed wink action roast'

adduser gnoswap
patchpkg "g1lmvrrrr4er2us84h2732sru76c9zl2nvknha8c" $gnoswap_user_addr

adduser test_admin
patchpkg "g1lmvrrrr4er2us84h2732sru76c9zl2nvknha8c" $test_admin_user_addr

adduser user1
patchpkg "g16a7etgm9z2r653ucl36rj0l2yqcxgrz2jyegzx" $user1_user_addr

gnoland start

# Create text proposal with empty title => should fail
! gnokey maketx call -pkgpath gno.land/r/gnoswap/gov/governance -func ProposeText -args "" -args "Lorem ipsum dolor sit amet, consectetur adipiscing elit" -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 100000000ugnot -gas-wanted 1000000000 -memo "" gns_admin
stderr '\[GNOSWAP-GOVERNANCE-002\] invalid input || title is empty'

# Create text proposal with empty description => should fail
! gnokey maketx call -pkgpath gno.land/r/gnoswap/gov/governance -func ProposeText -args "Test Proposal Title" -args "" -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 100000000ugnot -gas-wanted 1000000000 -memo "" gns_admin
stderr '\[GNOSWAP-GOVERNANCE-002\] invalid input || description is empty'

# Create community pool spend proposal with empty title => should fail
! gnokey maketx call -pkgpath gno.land/r/gnoswap/gov/governance -func ProposeCommunityPoolSpend -args "" -args "Lorem ipsum dolor sit amet, consectetur adipiscing elit" -args $gns_admin_user_addr -args "gno.land/r/gnoswap/gns" -args 100 -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 100000000ugnot -gas-wanted 1000000000 -memo "" gns_admin
stderr '\[GNOSWAP-GOVERNANCE-002\] invalid input || title is empty'

# Create community pool spend proposal with empty description => should fail
! gnokey maketx call -pkgpath gno.land/r/gnoswap/gov/governance -func ProposeCommunityPoolSpend -args "Test Proposal Title" -args "" -args $gns_admin_user_addr -args "gno.land/r/gnoswap/gns" -args 100 -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 100000000ugnot -gas-wanted 1000000000 -memo "" gns_admin
stderr '\[GNOSWAP-GOVERNANCE-002\] invalid input || title is empty'
