loadpkg gno.land/p/nt/avl
loadpkg gno.land/p/nt/ufmt
loadpkg gno.land/p/onbloc/json
loadpkg gno.land/p/nt/ownable
loadpkg gno.land/p/demo/tokens/grc20
loadpkg gno.land/p/demo/tokens/grc721
loadpkg gno.land/r/demo/defi/foo20

loadpkg gno.land/r/sys/users
loadpkg gno.land/r/gnoland/wugnot
loadpkg gno.land/r/demo/defi/grc20reg

loadpkg gno.land/r/gnoswap/access
loadpkg gno.land/p/gnoswap/uint256
loadpkg gno.land/p/gnoswap/int256
loadpkg gno.land/p/gnoswap/gnsmath
loadpkg gno.land/p/gnoswap/store
loadpkg gno.land/p/gnoswap/version_manager

loadpkg gno.land/r/gnoswap/access
loadpkg gno.land/r/gnoswap/rbac
loadpkg gno.land/r/gnoswap/halt
loadpkg gno.land/r/gnoswap/common
loadpkg gno.land/r/gnoswap/referral

loadpkg gno.land/r/gnoswap/gns
loadpkg gno.land/r/gnoswap/gnft
loadpkg gno.land/r/gnoswap/gov/xgns
loadpkg gno.land/r/gnoswap/emission
loadpkg gno.land/r/gnoswap/protocol_fee

loadpkg gno.land/r/gnoswap/pool
loadpkg gno.land/r/gnoswap/position

loadpkg gno.land/r/gnoswap/protocol_fee/v1
loadpkg gno.land/r/gnoswap/pool/v1
loadpkg gno.land/r/gnoswap/position/v1

adduserfrom gns_admin 'mnemonic here'

adduser gnoswap
patchpkg "g1lmvrrrr4er2us84h2732sru76c9zl2nvknha8c" $gnoswap_user_addr

adduser test_admin
patchpkg "g1lmvrrrr4er2us84h2732sru76c9zl2nvknha8c" $test_admin_user_addr

adduser user1
patchpkg "g16a7etgm9z2r653ucl36rj0l2yqcxgrz2jyegzx" $user1_user_addr

adduser gnoswap_pool
patchpkg "g1dexaf6aqkkyr9yfy9d5up69lsn7ra80af34g5v" $gnoswap_pool_user_addr

adduser gnoswap_router
patchpkg "g1vc883gshu5z7ytk5cdynhc8c2dh67pdp4cszkp" $gnoswap_router_user_addr

## start a new node
gnoland start 

### Send wugnot to neccessary accounts
gnokey maketx send -send 10000000000ugnot -to $gns_admin_user_addr -broadcast -chainid=tendermint_test -gas-fee 100000000ugnot -gas-wanted 100000000 test1
stdout 'OK!'
stdout 'GAS USED:   4[0-9]{4}'
stdout 'EVENTS:     \[\]'

### Send wugnot to neccessary address
gnokey maketx send -send 100000000ugnot -to $test_admin_user_addr -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 100000000ugnot -gas-wanted 100000000 -memo "" test1
stdout 'OK!'
stdout 'GAS USED:   4[0-9]{4}'
stdout 'EVENTS:     \[\]'
gnokey maketx send -send 500000000ugnot -to $user1_user_addr -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 100000000ugnot -gas-wanted 100000000 -memo "" test1
stdout 'OK!'
stdout 'GAS USED:   4[0-9]{4}'
stdout 'EVENTS:     \[\]'
gnokey maketx send -send 500000000ugnot -to $test_admin_user_addr -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 100000000ugnot -gas-wanted 100000000 -memo "" test1
stdout 'OK!'
stdout 'GAS USED:   4[0-9]{4}'
stdout 'EVENTS:     \[\]'

### Transfer 1_000_000_000 GNS
gnokey maketx call -pkgpath gno.land/r/gnoswap/gns -func Transfer -args $test_admin_user_addr -args 1000000000 -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 100000000ugnot -gas-wanted 1000000000 -memo "transfer 1_000_000_000 GNS" gns_admin
stdout 'OK!'
stdout 'GAS USED:   5[0-9]{6}'
stdout 'STORAGE DELTA:  2[0-9]{3} bytes'
stdout 'TOTAL TX COST:  1[0-9]{8}ugnot'
stdout 'EVENTS:     \[\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoswap/gns\.GNS\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"1000000000\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoswap/gns\"\}\]'
gnokey maketx call -pkgpath gno.land/r/gnoswap/gns -func Transfer -args $user1_user_addr -args 100000000 -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 100000000ugnot -gas-wanted 1000000000 -memo "" gns_admin
stdout 'OK!'
stdout 'GAS USED:   6[0-9]{6}'
stdout 'STORAGE DELTA:  2[0-9]{3} bytes'
stdout 'TOTAL TX COST:  1[0-9]{8}ugnot'
stdout 'EVENTS:     \[\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoswap/gns\.GNS\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"100000000\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoswap/gns\"\}\]'
gnokey maketx call -pkgpath gno.land/r/gnoswap/gns -func Transfer -args $test_admin_user_addr -args 100000000 -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 100000000ugnot -gas-wanted 1000000000 -memo "" gns_admin
stdout 'OK!'
stdout 'GAS USED:   6[0-9]{6}'
stdout 'STORAGE DELTA:  1 bytes'
stdout 'TOTAL TX COST:  1[0-9]{8}ugnot'
stdout 'EVENTS:     \[\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoswap/gns\.GNS\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"100000000\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoswap/gns\"\}\]'

### Create pool
gnokey maketx call -pkgpath gno.land/r/gnoswap/gns -func Approve -args g1dexaf6aqkkyr9yfy9d5up69lsn7ra80af34g5v -args 9223372036854775806 -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 100000000ugnot -gas-wanted 1000000000 -memo "" gns_admin
stdout 'OK!'
stdout 'GAS USED:   4[0-9]{6}'
stdout 'STORAGE DELTA:  1[0-9]{3} bytes'
stdout 'TOTAL TX COST:  1[0-9]{8}ugnot'
stdout 'EVENTS:     \[\{\"type\":\"Approval\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoswap/gns\.GNS\"\},\{\"key\":\"owner\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"spender\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"9223372036854775806\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoswap/gns\"\}\]'
gnokey maketx call -pkgpath gno.land/r/gnoswap/pool -func CreatePool -args "gno.land/r/gnoland/wugnot" -args "gno.land/r/gnoswap/gns" -args 3000 -args 79228162514264337593543950337 -gas-fee 10000000ugnot -gas-wanted 1000000000 -broadcast -chainid=tendermint_test gns_admin
stdout 'OK!'
stdout 'GAS USED:   3[0-9]{7}'
stdout 'STORAGE DELTA:  2[0-9]{4} bytes'
stdout 'TOTAL TX COST:  1[0-9]{7}ugnot'
stdout 'EVENTS:     \[\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoswap/gns\.GNS\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"100000000\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"PoolCreationFee\",\"attrs\":\[\{\"key\":\"prevAddr\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"prevRealm\",\"value\":\"\"\},\{\"key\":\"poolPath\",\"value\":\"gno\.land/r/gnoland/wugnot:gno\.land/r/gnoswap/gns:3000\"\},\{\"key\":\"feeTokenPath\",\"value\":\"gno\.land/r/gnoswap/gns\"\},\{\"key\":\"feeAmount\",\"value\":\"100000000\"\}\],\"pkg_path\":\"gno\.land/r/gnoswap/pool/v1\"\},\{\"type\":\"CreatePool\",\"attrs\":\[\{\"key\":\"prevAddr\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"prevRealm\",\"value\":\"\"\},\{\"key\":\"token0Path\",\"value\":\"gno\.land/r/gnoland/wugnot\"\},\{\"key\":\"token1Path\",\"value\":\"gno\.land/r/gnoswap/gns\"\},\{\"key\":\"fee\",\"value\":\"3000\"\},\{\"key\":\"sqrtPriceX96\",\"value\":\"79228162514264337593543950337\"\},\{\"key\":\"poolPath\",\"value\":\"gno\.land/r/gnoland/wugnot:gno\.land/r/gnoswap/gns:3000\"\},\{\"key\":\"tick\",\"value\":\"0\"\},\{\"key\":\"tickSpacing\",\"value\":\"60\"\}\],\"pkg_path\":\"gno\.land/r/gnoswap/pool/v1\"\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoswap/gns\"\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoswap/pool\"\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoswap/protocol_fee\"\}\]'

## Check created pool 
gnokey query vm/qeval --data "gno.land/r/gnoswap/pool.ExistsPoolPath(\"gno.land/r/gnoland/wugnot:gno.land/r/gnoswap/gns:3000\")"
stdout 'height: 0'
stdout 'data: \(true bool\)'

## Mint position using native GNOT
### Approve GNS for pool contract
gnokey maketx call -pkgpath gno.land/r/gnoswap/gns -func Approve -args g1dexaf6aqkkyr9yfy9d5up69lsn7ra80af34g5v -args 9223372036854775806 -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 100000000ugnot -gas-wanted 1000000000 -memo "" gns_admin
stdout 'OK!'
stdout 'GAS USED:   4[0-9]{6}'
stdout 'EVENTS:     \[\{\"type\":\"Approval\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoswap/gns\.GNS\"\},\{\"key\":\"owner\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"spender\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"9223372036854775806\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\}\]'

### Deposit WUGNOT first (for internal conversion)
gnokey maketx call -pkgpath gno.land/r/gnoland/wugnot -func Deposit -send "100000000ugnot" -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 100000000ugnot -gas-wanted 1000000000 -memo "" gns_admin
stdout 'OK!'
stdout 'GAS USED:   6[0-9]{6}'
stdout 'STORAGE DELTA:  1[0-9]{3} bytes'
stdout 'TOTAL TX COST:  1[0-9]{8}ugnot'
stdout 'EVENTS:     \[\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoland/wugnot\.wugnot\"\},\{\"key\":\"from\",\"value\":\"\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"100000000\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoland/wugnot\"\}\]'

### Approve WUGNOT for position contract (needed even when using native GNOT)
gnokey maketx call -pkgpath gno.land/r/gnoland/wugnot -func Approve -args g1dexaf6aqkkyr9yfy9d5up69lsn7ra80af34g5v -args 9223372036854775806 -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 100000000ugnot -gas-wanted 1000000000 -memo "" gns_admin
stdout 'OK!'
stdout 'GAS USED:   3[0-9]{6}'
stdout 'STORAGE DELTA:  1[0-9]{3} bytes'
stdout 'TOTAL TX COST:  1[0-9]{8}ugnot'
stdout 'EVENTS:     \[\{\"type\":\"Approval\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoland/wugnot\.wugnot\"\},\{\"key\":\"owner\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"spender\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"9223372036854775806\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoland/wugnot\"\}\]'

### Also approve for position NFT contract
# gnokey maketx call -pkgpath gno.land/r/gnoland/wugnot -func Approve -args g1y3uyaa63sjxvah2cx3c2usavwvx97kl8m2v7ye -args 9223372036854775806 -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 100000000ugnot -gas-wanted 1000000000 -memo "" gns_admin

### Mint position with native GNOT as token1Path parameter
gnokey maketx call -pkgpath gno.land/r/gnoswap/position -func Mint -send "50000000ugnot" -args gno.land/r/gnoswap/gns -args "gnot" -args 3000 -args "-887220" -args "887220" -args 50000000 -args 50000000 -args 1 -args 1 -args 9999999999 -args $gns_admin_user_addr -args $gns_admin_user_addr -args "" -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 100000000ugnot -gas-wanted 1000000000 -memo "" gns_admin
stdout 'OK!'
stdout 'GAS USED:   8[0-9]{7}'
stdout 'STORAGE DELTA:  5[0-9]{4} bytes'
stdout 'TOTAL TX COST:  1[0-9]{8}ugnot'
stdout 'EVENTS:     \[\{\"type\":\"ReferralRegistrationSuccess\",\"attrs\":\[\{\"key\":\"address\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"referral\",\"value\":\"\"\}\],\"pkg_path\":\"gno\.land/r/gnoswap/referral\"\},\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoland/wugnot\.wugnot\"\},\{\"key\":\"from\",\"value\":\"\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"50000000\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoland/wugnot\.wugnot\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"50000000\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoland/wugnot\.wugnot\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"50000000\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoswap/gns\.GNS\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"50000000\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"Mint\",\"attrs\":\[\{\"key\":\"slug\",\"value\":\"GNFT\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"tokenId\",\"value\":\"1\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc721\"\},\{\"type\":\"SetTokenURI\",\"attrs\":\[\{\"key\":\"prevAddr\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"prevRealm\",\"value\":\"gno\.land/r/gnoswap/position\"\},\{\"key\":\"tokenId\",\"value\":\"1\"\},\{\"key\":\"tokenURI\",\"value\":\"data:image/svg\+xml;base64,PHN2ZyB3aWR0aD0iMTM1IiBoZWlnaHQ9IjEzNSIgdmlld0JveD0iMCAwIDEzNSAxMzUiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI\+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF83Njk4XzU2ODQ2KSI\+CjxjaXJjbGUgY3g9IjY3LjUiIGN5PSI2Ny41IiByPSI2Ny41IiBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfNzY5OF81Njg0NikiLz4KPHBhdGggZD0iTTUxLjI5MDUgNDIuOTQ0OUw2Ni40ODk1IDMzTDk3IDUyLjgwNjFMODEuODI0MSA2Mi43NDI1TDUxLjI5MDUgNDIuOTQ0OVoiIGZpbGw9IndoaXRlIi8\+CjxwYXRoIGQ9Ik01MS42MDU1IDY3LjUwNTlMNjYuODA0NCA1Ny41NjFMOTcgNzcuMDY1N0w4Mi4xMDQ2IDg3LjE3OTNMNTEuNjA1NSA2Ny41MDU5WiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC40Ii8\+CjxwYXRoIGQ9Ik0zNi4wNDY0IDgxLjc1NTlMNTEuMjkwNSA3MS44MTFMODEuNzMzNiA5MS42NTQ3TDY2LjQ4OTUgMTAxLjUwOEwzNi4wNDY0IDgxLjc1NTlaIiBmaWxsPSJ3aGl0ZSIgZmlsbC1vcGFjaXR5PSIwLjYiLz4KPHBhdGggZD0iTTM2LjAwMSA1Mi44MDU1TDUxLjI4ODQgNDIuOTE3N0w1MS4yODg0IDcxLjgxNDVMMzYuMDAxIDgxLjc3OUwzNi4wMDEgNTIuODA1NVoiIGZpbGw9IndoaXRlIi8\+CjxwYXRoIGQ9Ik04Mi4xMDUxIDg3LjE3OTdMOTcuMDAxNiA3Ny4wNjYyTDk3LjAwMTYgODEuNzAyOUw4MS43ODk2IDkxLjYyOUw4Mi4xMDUxIDg3LjE3OTdaIiBmaWxsPSJ3aGl0ZSIgZmlsbC1vcGFjaXR5PSIwLjUiLz4KPHBhdGggZD0iTTUxLjI5MDUgNDIuOTQ0OUw2Ni40ODk1IDMzTDk3IDUyLjgwNjFMODEuODI0MSA2Mi43NDI1TDUxLjI5MDUgNDIuOTQ0OVoiIGZpbGw9IndoaXRlIi8\+CjxwYXRoIGQ9Ik01MS42MDU1IDY3LjUwNTlMNjYuODA0NCA1Ny41NjFMOTcgNzcuMDY1N0w4Mi4xMDQ2IDg3LjE3OTNMNTEuNjA1NSA2Ny41MDU5WiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC40Ii8\+CjxwYXRoIGQ9Ik0zNi4wNDY0IDgxLjc1NTlMNTEuMjkwNSA3MS44MTFMODEuNzMzNiA5MS42NTQ3TDY2LjQ4OTUgMTAxLjUwOEwzNi4wNDY0IDgxLjc1NTlaIiBmaWxsPSJ3aGl0ZSIgZmlsbC1vcGFjaXR5PSIwLjYiLz4KPHBhdGggZD0iTTM2LjAwMSA1Mi44MDU1TDUxLjI4ODQgNDIuOTE3N0w1MS4yODg0IDcxLjgxNDVMMzYuMDAxIDgxLjc3OUwzNi4wMDEgNTIuODA1NVoiIGZpbGw9IndoaXRlIi8\+CjxwYXRoIGQ9Ik04Mi4xMDUxIDg3LjE3OTdMOTcuMDAxNiA3Ny4wNjYyTDk3LjAwMTYgODEuNzAyOUw4MS43ODk2IDkxLjYyOUw4Mi4xMDUxIDg3LjE3OTdaIiBmaWxsPSJ3aGl0ZSIgZmlsbC1vcGFjaXR5PSIwLjUiLz4KPC9nPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzc2OThfNTY4NDYiIHgxPSIxMCIgeTE9IjkiIHgyPSIxMjEiIHkyPSIxMjQiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0M0ODJBQiIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMxNzMyOEIiLz4KPC9saW5lYXJHcmFkaWVudD4KPGNsaXBQYXRoIGlkPSJjbGlwMF83Njk4XzU2ODQ2Ij4KPHJlY3Qgd2lkdGg9IjEzNSIgaGVpZ2h0PSIxMzUiIGZpbGw9IndoaXRlIi8\+CjwvY2xpcFBhdGg\+CjwvZGVmcz4KPC9zdmc\+Cg==\"\}\],\"pkg_path\":\"gno\.land/r/gnoswap/gnft\"\},\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"slug\",\"value\":\"GNFT\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"tokenId\",\"value\":\"1\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc721\"\},\{\"type\":\"Mint\",\"attrs\":\[\{\"key\":\"prevAddr\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"prevRealm\",\"value\":\"\"\},\{\"key\":\"tickLower\",\"value\":\"-887220\"\},\{\"key\":\"tickUpper\",\"value\":\"887220\"\},\{\"key\":\"poolPath\",\"value\":\"gno\.land/r/gnoland/wugnot:gno\.land/r/gnoswap/gns:3000\"\},\{\"key\":\"mintTo\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"caller\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"lpPositionId\",\"value\":\"1\"\},\{\"key\":\"liquidity\",\"value\":\"50000000\"\},\{\"key\":\"amount0\",\"value\":\"50000000\"\},\{\"key\":\"amount1\",\"value\":\"50000000\"\},\{\"key\":\"sqrtPriceX96\",\"value\":\"79228162514264337593543950337\"\},\{\"key\":\"token0Balance\",\"value\":\"50000000\"\},\{\"key\":\"token1Balance\",\"value\":\"50000000\"\},\{\"key\":\"tickCumulative\",\"value\":\"0\"\},\{\"key\":\"liquidityCumulative\",\"value\":\"0\"\},\{\"key\":\"secondsPerLiquidityCumulativeX128\",\"value\":\"0\"\},\{\"key\":\"observationTimestamp\",\"value\":\"1762660487\"\},\{\"key\":\"referrer\",\"value\":\"\"\}\],\"pkg_path\":\"gno\.land/r/gnoswap/position/v1\"\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoland/wugnot\"\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoswap/gnft\"\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoswap/gns\"\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoswap/pool\"\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoswap/position\"\}\]'

## Check minted position
gnokey query vm/qeval --data "gno.land/r/gnoswap/position.ApiGetPosition(1)"
stdout 'height: 0'
stdout 'data: \(\"\{\\\"stat\\\":\{\\\"height\\\":18,\\\"timestamp\\\":1762660487\},\\\"response\\\":\[\{\\\"lpPositionId\\\":1,\\\"burned\\\":false,\\\"owner\\\":\\\"g1[0-9a-z]{38}\\\",\\\"operator\\\":\\\"\\\",\\\"poolKey\\\":\\\"gno\.land/r/gnoland/wugnot:gno\.land/r/gnoswap/gns:3000\\\",\\\"tickLower\\\":-887220,\\\"tickUpper\\\":887220,\\\"liquidity\\\":\\\"50000000\\\",\\\"feeGrowthInside0LastX128\\\":\\\"0\\\",\\\"feeGrowthInside1LastX128\\\":\\\"0\\\",\\\"token0Owed\\\":\\\"0\\\",\\\"token1Owed\\\":\\\"0\\\",\\\"token0Balance\\\":\\\"0\\\",\\\"token1Balance\\\":\\\"0\\\",\\\"calculatedToken0Balance\\\":\\\"49999999\\\",\\\"calculatedToken1Balance\\\":\\\"49999999\\\",\\\"fee0Unclaimed\\\":\\\"0\\\",\\\"fee1Unclaimed\\\":\\\"0\\\"\}\]\}\" string\)'

## Increase liquidity with native GNOT
gnokey maketx call -pkgpath gno.land/r/gnoswap/position -func IncreaseLiquidity -send "10000000ugnot" -args 1 -args "10000000" -args "10000000" -args "1" -args "1" -args 9999999999 -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 100000000ugnot -gas-wanted 1000000000 -memo "" gns_admin
stdout 'OK!'
stdout 'GAS USED:   7[0-9]{7}'
stdout 'STORAGE DELTA:  1[0-9]{2} bytes'
stdout 'TOTAL TX COST:  1[0-9]{8}ugnot'
stdout 'EVENTS:     \[\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoland/wugnot\.wugnot\"\},\{\"key\":\"from\",\"value\":\"\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"10000000\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoland/wugnot\.wugnot\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"10000000\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoland/wugnot\.wugnot\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"10000000\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoswap/gns\.GNS\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"10000000\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"IncreaseLiquidity\",\"attrs\":\[\{\"key\":\"prevAddr\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"prevRealm\",\"value\":\"\"\},\{\"key\":\"poolPath\",\"value\":\"gno\.land/r/gnoland/wugnot:gno\.land/r/gnoswap/gns:3000\"\},\{\"key\":\"caller\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"lpPositionId\",\"value\":\"1\"\},\{\"key\":\"liquidity\",\"value\":\"10000000\"\},\{\"key\":\"amount0\",\"value\":\"10000000\"\},\{\"key\":\"amount1\",\"value\":\"10000000\"\},\{\"key\":\"sqrtPriceX96\",\"value\":\"79228162514264337593543950337\"\},\{\"key\":\"positionLiquidity\",\"value\":\"60000000\"\},\{\"key\":\"token0Balance\",\"value\":\"60000000\"\},\{\"key\":\"token1Balance\",\"value\":\"60000000\"\},\{\"key\":\"tickCumulative\",\"value\":\"0\"\},\{\"key\":\"liquidityCumulative\",\"value\":\"50000000\"\},\{\"key\":\"secondsPerLiquidityCumulativeX128\",\"value\":\"6805647338418769269267492148635\"\},\{\"key\":\"observationTimestamp\",\"value\":\"1762660488\"\}\],\"pkg_path\":\"gno\.land/r/gnoswap/position/v1\"\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoswap/pool\"\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoswap/position\"\}\]'

## Decrease liquidity from the position
gnokey maketx call -pkgpath gno.land/r/gnoswap/position -func DecreaseLiquidity -args 1 -args "5000000" -args "1" -args "1" -args 9999999999 -args false -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 100000000ugnot -gas-wanted 1000000000 -memo "" gns_admin
stdout 'OK!'
stdout 'GAS USED:   7[0-9]{7}'
stdout 'STORAGE DELTA:  2[0-9]{3} bytes'
stdout 'TOTAL TX COST:  1[0-9]{8}ugnot'
stdout 'EVENTS:     \[\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoland/wugnot\.wugnot\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"0\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoswap/gns\.GNS\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"0\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoland/wugnot\.wugnot\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"0\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoswap/gns\.GNS\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"0\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"CollectSwapFee\",\"attrs\":\[\{\"key\":\"prevAddr\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"prevRealm\",\"value\":\"\"\},\{\"key\":\"lpPositionId\",\"value\":\"1\"\},\{\"key\":\"feeAmount0\",\"value\":\"0\"\},\{\"key\":\"feeAmount1\",\"value\":\"0\"\},\{\"key\":\"poolPath\",\"value\":\"gno\.land/r/gnoland/wugnot:gno\.land/r/gnoswap/gns:3000\"\},\{\"key\":\"unwrapResult\",\"value\":\"false\"\}\],\"pkg_path\":\"gno\.land/r/gnoswap/position/v1\"\},\{\"type\":\"WithdrawalFee\",\"attrs\":\[\{\"key\":\"prevAddr\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"prevRealm\",\"value\":\"\"\},\{\"key\":\"lpTokenId\",\"value\":\"1\"\},\{\"key\":\"poolPath\",\"value\":\"gno\.land/r/gnoland/wugnot:gno\.land/r/gnoswap/gns:3000\"\},\{\"key\":\"feeAmount0\",\"value\":\"0\"\},\{\"key\":\"feeAmount1\",\"value\":\"0\"\},\{\"key\":\"amount0WithoutFee\",\"value\":\"0\"\},\{\"key\":\"amount1WithoutFee\",\"value\":\"0\"\}\],\"pkg_path\":\"gno\.land/r/gnoswap/position/v1\"\},\{\"type\":\"Approval\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoland/wugnot\.wugnot\"\},\{\"key\":\"owner\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"spender\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"4999999\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"Approval\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoswap/gns\.GNS\"\},\{\"key\":\"owner\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"spender\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"4999999\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoland/wugnot\.wugnot\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"4999999\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoswap/gns\.GNS\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"4999999\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"DecreaseLiquidity\",\"attrs\":\[\{\"key\":\"prevAddr\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"prevRealm\",\"value\":\"\"\},\{\"key\":\"lpPositionId\",\"value\":\"1\"\},\{\"key\":\"poolPath\",\"value\":\"gno\.land/r/gnoland/wugnot:gno\.land/r/gnoswap/gns:3000\"\},\{\"key\":\"decreasedLiquidity\",\"value\":\"5000000\"\},\{\"key\":\"feeAmount0\",\"value\":\"0\"\},\{\"key\":\"feeAmount1\",\"value\":\"0\"\},\{\"key\":\"amount0\",\"value\":\"4999999\"\},\{\"key\":\"amount1\",\"value\":\"4999999\"\},\{\"key\":\"unwrapResult\",\"value\":\"false\"\},\{\"key\":\"sqrtPriceX96\",\"value\":\"79228162514264337593543950337\"\},\{\"key\":\"positionLiquidity\",\"value\":\"55000000\"\},\{\"key\":\"token0Balance\",\"value\":\"55000001\"\},\{\"key\":\"token1Balance\",\"value\":\"55000001\"\},\{\"key\":\"tickCumulative\",\"value\":\"0\"\},\{\"key\":\"liquidityCumulative\",\"value\":\"50000000\"\},\{\"key\":\"secondsPerLiquidityCumulativeX128\",\"value\":\"6805647338418769269267492148635\"\},\{\"key\":\"observationTimestamp\",\"value\":\"1762660488\"\}\],\"pkg_path\":\"gno\.land/r/gnoswap/position/v1\"\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoland/wugnot\"\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoswap/gns\"\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoswap/pool\"\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoswap/position\"\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoswap/protocol_fee\"\}\]'

## Decrease liquidity with unwrap (should receive native GNOT)
gnokey maketx call -pkgpath gno.land/r/gnoswap/position -func DecreaseLiquidity -args 1 -args "5000000" -args "1" -args "1" -args 9999999999 -args true -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 100000000ugnot -gas-wanted 1000000000 -memo "" gns_admin
stdout 'OK!'
stdout 'GAS USED:   7[0-9]{7}'
stdout 'STORAGE DELTA:  3[0-9]{1} bytes'
stdout 'TOTAL TX COST:  1[0-9]{8}ugnot'
stdout 'EVENTS:     \[\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoswap/gns\.GNS\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"0\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoland/wugnot\.wugnot\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"0\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoswap/gns\.GNS\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"0\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"CollectSwapFee\",\"attrs\":\[\{\"key\":\"prevAddr\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"prevRealm\",\"value\":\"\"\},\{\"key\":\"lpPositionId\",\"value\":\"1\"\},\{\"key\":\"feeAmount0\",\"value\":\"0\"\},\{\"key\":\"feeAmount1\",\"value\":\"0\"\},\{\"key\":\"poolPath\",\"value\":\"gno\.land/r/gnoland/wugnot:gno\.land/r/gnoswap/gns:3000\"\},\{\"key\":\"unwrapResult\",\"value\":\"true\"\}\],\"pkg_path\":\"gno\.land/r/gnoswap/position/v1\"\},\{\"type\":\"WithdrawalFee\",\"attrs\":\[\{\"key\":\"prevAddr\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"prevRealm\",\"value\":\"\"\},\{\"key\":\"lpTokenId\",\"value\":\"1\"\},\{\"key\":\"poolPath\",\"value\":\"gno\.land/r/gnoland/wugnot:gno\.land/r/gnoswap/gns:3000\"\},\{\"key\":\"feeAmount0\",\"value\":\"0\"\},\{\"key\":\"feeAmount1\",\"value\":\"0\"\},\{\"key\":\"amount0WithoutFee\",\"value\":\"0\"\},\{\"key\":\"amount1WithoutFee\",\"value\":\"0\"\}\],\"pkg_path\":\"gno\.land/r/gnoswap/position/v1\"\},\{\"type\":\"Approval\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoland/wugnot\.wugnot\"\},\{\"key\":\"owner\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"spender\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"4999999\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"Approval\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoswap/gns\.GNS\"\},\{\"key\":\"owner\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"spender\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"4999999\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoland/wugnot\.wugnot\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"4999999\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoland/wugnot\.wugnot\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"\"\},\{\"key\":\"value\",\"value\":\"4999999\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoswap/gns\.GNS\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"4999999\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"DecreaseLiquidity\",\"attrs\":\[\{\"key\":\"prevAddr\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"prevRealm\",\"value\":\"\"\},\{\"key\":\"lpPositionId\",\"value\":\"1\"\},\{\"key\":\"poolPath\",\"value\":\"gno\.land/r/gnoland/wugnot:gno\.land/r/gnoswap/gns:3000\"\},\{\"key\":\"decreasedLiquidity\",\"value\":\"5000000\"\},\{\"key\":\"feeAmount0\",\"value\":\"0\"\},\{\"key\":\"feeAmount1\",\"value\":\"0\"\},\{\"key\":\"amount0\",\"value\":\"4999999\"\},\{\"key\":\"amount1\",\"value\":\"4999999\"\},\{\"key\":\"unwrapResult\",\"value\":\"true\"\},\{\"key\":\"sqrtPriceX96\",\"value\":\"79228162514264337593543950337\"\},\{\"key\":\"positionLiquidity\",\"value\":\"50000000\"\},\{\"key\":\"token0Balance\",\"value\":\"50000002\"\},\{\"key\":\"token1Balance\",\"value\":\"50000002\"\},\{\"key\":\"tickCumulative\",\"value\":\"0\"\},\{\"key\":\"liquidityCumulative\",\"value\":\"50000000\"\},\{\"key\":\"secondsPerLiquidityCumulativeX128\",\"value\":\"6805647338418769269267492148635\"\},\{\"key\":\"observationTimestamp\",\"value\":\"1762660488\"\}\],\"pkg_path\":\"gno\.land/r/gnoswap/position/v1\"\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoland/wugnot\"\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoswap/position\"\}\]'

## Collect position fees with unwrap (should receive native GNOT for WUGNOT portion)
gnokey maketx call -pkgpath gno.land/r/gnoswap/position -func CollectFee -args 1 -args true -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 100000000ugnot -gas-wanted 1000000000 -memo "" gns_admin
stdout 'OK!'
stdout 'GAS USED:   4[0-9]{7}'
stdout 'STORAGE DELTA:  2[0-9]{1} bytes'
stdout 'TOTAL TX COST:  1[0-9]{8}ugnot'
stdout 'EVENTS:     \[\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoswap/gns\.GNS\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"0\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoland/wugnot\.wugnot\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"0\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoswap/gns\.GNS\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"0\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"CollectSwapFee\",\"attrs\":\[\{\"key\":\"prevAddr\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"prevRealm\",\"value\":\"\"\},\{\"key\":\"lpPositionId\",\"value\":\"1\"\},\{\"key\":\"feeAmount0\",\"value\":\"0\"\},\{\"key\":\"feeAmount1\",\"value\":\"0\"\},\{\"key\":\"poolPath\",\"value\":\"gno\.land/r/gnoland/wugnot:gno\.land/r/gnoswap/gns:3000\"\},\{\"key\":\"unwrapResult\",\"value\":\"true\"\}\],\"pkg_path\":\"gno\.land/r/gnoswap/position/v1\"\},\{\"type\":\"WithdrawalFee\",\"attrs\":\[\{\"key\":\"prevAddr\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"prevRealm\",\"value\":\"\"\},\{\"key\":\"lpTokenId\",\"value\":\"1\"\},\{\"key\":\"poolPath\",\"value\":\"gno\.land/r/gnoland/wugnot:gno\.land/r/gnoswap/gns:3000\"\},\{\"key\":\"feeAmount0\",\"value\":\"0\"\},\{\"key\":\"feeAmount1\",\"value\":\"0\"\},\{\"key\":\"amount0WithoutFee\",\"value\":\"0\"\},\{\"key\":\"amount1WithoutFee\",\"value\":\"0\"\}\],\"pkg_path\":\"gno\.land/r/gnoswap/position/v1\"\},\{\"bytes_delta\":[0-9]+,\"fee_refund\":\{\"denom\":\"ugnot\",\"amount\":200\},\"pkg_path\":\"gno\.land/r/gnoland/wugnot\",\"refund_withheld\":false\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoswap/pool\"\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoswap/position\"\}\]'

## Test Mint with both tokens using GNOT
### First, deposit some WUGNOT to have balance for comparison
gnokey maketx call -pkgpath gno.land/r/gnoland/wugnot -func Deposit -send "100000000ugnot" -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 100000000ugnot -gas-wanted 1000000000 -memo "" gns_admin
stdout 'OK!'
stdout 'GAS USED:   6[0-9]{6}'
stdout 'STORAGE DELTA:  1[0-9]{1} bytes'
stdout 'TOTAL TX COST:  1[0-9]{8}ugnot'
stdout 'EVENTS:     \[\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoland/wugnot\.wugnot\"\},\{\"key\":\"from\",\"value\":\"\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"100000000\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoland/wugnot\"\}\]'
gnokey maketx call -pkgpath gno.land/r/gnoland/wugnot -func Approve -args g1dexaf6aqkkyr9yfy9d5up69lsn7ra80af34g5v -args 9223372036854775806 -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 100000000ugnot -gas-wanted 1000000000 -memo "" gns_admin
stdout 'OK!'
stdout 'GAS USED:   3[0-9]{6}'
stdout 'EVENTS:     \[\{\"type\":\"Approval\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoland/wugnot\.wugnot\"\},\{\"key\":\"owner\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"spender\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"9223372036854775806\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\}\]'

### Mint position with native GNOT as token0Path parameter
gnokey maketx call -pkgpath gno.land/r/gnoswap/position -func Mint -send "30000000ugnot" -args "gnot" -args gno.land/r/gnoswap/gns -args 3000 -args "-887220" -args "887220" -args 30000000 -args 30000000 -args 1 -args 1 -args 9999999999 -args $gns_admin_user_addr -args $gns_admin_user_addr -args "" -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 100000000ugnot -gas-wanted 1000000000 -memo "" gns_admin
stdout 'OK!'
stdout 'GAS USED:   9[0-9]{7}'
stdout 'STORAGE DELTA:  1[0-9]{4} bytes'
stdout 'TOTAL TX COST:  1[0-9]{8}ugnot'
stdout 'EVENTS:     \[\{\"type\":\"ReferralRegistrationSuccess\",\"attrs\":\[\{\"key\":\"address\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"referral\",\"value\":\"\"\}\],\"pkg_path\":\"gno\.land/r/gnoswap/referral\"\},\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoland/wugnot\.wugnot\"\},\{\"key\":\"from\",\"value\":\"\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"30000000\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoland/wugnot\.wugnot\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"30000000\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoland/wugnot\.wugnot\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"30000000\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"token\",\"value\":\"gno\.land/r/gnoswap/gns\.GNS\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"value\",\"value\":\"30000000\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc20\"\},\{\"type\":\"Mint\",\"attrs\":\[\{\"key\":\"slug\",\"value\":\"GNFT\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"tokenId\",\"value\":\"2\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc721\"\},\{\"type\":\"SetTokenURI\",\"attrs\":\[\{\"key\":\"prevAddr\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"prevRealm\",\"value\":\"gno\.land/r/gnoswap/position\"\},\{\"key\":\"tokenId\",\"value\":\"2\"\},\{\"key\":\"tokenURI\",\"value\":\"data:image/svg\+xml;base64,PHN2ZyB3aWR0aD0iMTM1IiBoZWlnaHQ9IjEzNSIgdmlld0JveD0iMCAwIDEzNSAxMzUiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI\+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF83Njk4XzU2ODQ2KSI\+CjxjaXJjbGUgY3g9IjY3LjUiIGN5PSI2Ny41IiByPSI2Ny41IiBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfNzY5OF81Njg0NikiLz4KPHBhdGggZD0iTTUxLjI5MDUgNDIuOTQ0OUw2Ni40ODk1IDMzTDk3IDUyLjgwNjFMODEuODI0MSA2Mi43NDI1TDUxLjI5MDUgNDIuOTQ0OVoiIGZpbGw9IndoaXRlIi8\+CjxwYXRoIGQ9Ik01MS42MDU1IDY3LjUwNTlMNjYuODA0NCA1Ny41NjFMOTcgNzcuMDY1N0w4Mi4xMDQ2IDg3LjE3OTNMNTEuNjA1NSA2Ny41MDU5WiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC40Ii8\+CjxwYXRoIGQ9Ik0zNi4wNDY0IDgxLjc1NTlMNTEuMjkwNSA3MS44MTFMODEuNzMzNiA5MS42NTQ3TDY2LjQ4OTUgMTAxLjUwOEwzNi4wNDY0IDgxLjc1NTlaIiBmaWxsPSJ3aGl0ZSIgZmlsbC1vcGFjaXR5PSIwLjYiLz4KPHBhdGggZD0iTTM2LjAwMSA1Mi44MDU1TDUxLjI4ODQgNDIuOTE3N0w1MS4yODg0IDcxLjgxNDVMMzYuMDAxIDgxLjc3OUwzNi4wMDEgNTIuODA1NVoiIGZpbGw9IndoaXRlIi8\+CjxwYXRoIGQ9Ik04Mi4xMDUxIDg3LjE3OTdMOTcuMDAxNiA3Ny4wNjYyTDk3LjAwMTYgODEuNzAyOUw4MS43ODk2IDkxLjYyOUw4Mi4xMDUxIDg3LjE3OTdaIiBmaWxsPSJ3aGl0ZSIgZmlsbC1vcGFjaXR5PSIwLjUiLz4KPHBhdGggZD0iTTUxLjI5MDUgNDIuOTQ0OUw2Ni40ODk1IDMzTDk3IDUyLjgwNjFMODEuODI0MSA2Mi43NDI1TDUxLjI5MDUgNDIuOTQ0OVoiIGZpbGw9IndoaXRlIi8\+CjxwYXRoIGQ9Ik01MS42MDU1IDY3LjUwNTlMNjYuODA0NCA1Ny41NjFMOTcgNzcuMDY1N0w4Mi4xMDQ2IDg3LjE3OTNMNTEuNjA1NSA2Ny41MDU5WiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC40Ii8\+CjxwYXRoIGQ9Ik0zNi4wNDY0IDgxLjc1NTlMNTEuMjkwNSA3MS44MTFMODEuNzMzNiA5MS42NTQ3TDY2LjQ4OTUgMTAxLjUwOEwzNi4wNDY0IDgxLjc1NTlaIiBmaWxsPSJ3aGl0ZSIgZmlsbC1vcGFjaXR5PSIwLjYiLz4KPHBhdGggZD0iTTM2LjAwMSA1Mi44MDU1TDUxLjI4ODQgNDIuOTE3N0w1MS4yODg0IDcxLjgxNDVMMzYuMDAxIDgxLjc3OUwzNi4wMDEgNTIuODA1NVoiIGZpbGw9IndoaXRlIi8\+CjxwYXRoIGQ9Ik04Mi4xMDUxIDg3LjE3OTdMOTcuMDAxNiA3Ny4wNjYyTDk3LjAwMTYgODEuNzAyOUw4MS43ODk2IDkxLjYyOUw4Mi4xMDUxIDg3LjE3OTdaIiBmaWxsPSJ3aGl0ZSIgZmlsbC1vcGFjaXR5PSIwLjUiLz4KPC9nPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzc2OThfNTY4NDYiIHgxPSIxMiIgeTE9IjExIiB4Mj0iMTI2IiB5Mj0iMTIzIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI\+CjxzdG9wIHN0b3AtY29sb3I9IiM2MUZDRjUiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjNjg4NEY2Ii8\+CjwvbGluZWFyR3JhZGllbnQ\+CjxjbGlwUGF0aCBpZD0iY2xpcDBfNzY5OF81Njg0NiI\+CjxyZWN0IHdpZHRoPSIxMzUiIGhlaWdodD0iMTM1IiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM\+Cjwvc3ZnPgo=\"\}\],\"pkg_path\":\"gno\.land/r/gnoswap/gnft\"\},\{\"type\":\"Transfer\",\"attrs\":\[\{\"key\":\"slug\",\"value\":\"GNFT\"\},\{\"key\":\"from\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"to\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"tokenId\",\"value\":\"2\"\}\],\"pkg_path\":\"gno\.land/p/demo/tokens/grc721\"\},\{\"type\":\"Mint\",\"attrs\":\[\{\"key\":\"prevAddr\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"prevRealm\",\"value\":\"\"\},\{\"key\":\"tickLower\",\"value\":\"-887220\"\},\{\"key\":\"tickUpper\",\"value\":\"887220\"\},\{\"key\":\"poolPath\",\"value\":\"gno\.land/r/gnoland/wugnot:gno\.land/r/gnoswap/gns:3000\"\},\{\"key\":\"mintTo\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"caller\",\"value\":\"g1[0-9a-z]{38}\"\},\{\"key\":\"lpPositionId\",\"value\":\"2\"\},\{\"key\":\"liquidity\",\"value\":\"30000000\"\},\{\"key\":\"amount0\",\"value\":\"30000000\"\},\{\"key\":\"amount1\",\"value\":\"30000000\"\},\{\"key\":\"sqrtPriceX96\",\"value\":\"79228162514264337593543950337\"\},\{\"key\":\"token0Balance\",\"value\":\"80000002\"\},\{\"key\":\"token1Balance\",\"value\":\"80000002\"\},\{\"key\":\"tickCumulative\",\"value\":\"0\"\},\{\"key\":\"liquidityCumulative\",\"value\":\"100000000\"\},\{\"key\":\"secondsPerLiquidityCumulativeX128\",\"value\":\"13611294676837538538534984297270\"\},\{\"key\":\"observationTimestamp\",\"value\":\"1762660489\"\},\{\"key\":\"referrer\",\"value\":\"\"\}\],\"pkg_path\":\"gno\.land/r/gnoswap/position/v1\"\},\{\"bytes_delta\":[0-9]+,\"fee_refund\":\{\"denom\":\"ugnot\",\"amount\":200\},\"pkg_path\":\"gno\.land/r/gnoland/wugnot\",\"refund_withheld\":false\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoswap/gnft\"\},\{\"bytes_delta\":[0-9]+,\"fee_refund\":\{\"denom\":\"ugnot\",\"amount\":700\},\"pkg_path\":\"gno\.land/r/gnoswap/gns\",\"refund_withheld\":false\},\{\"bytes_delta\":[0-9]+,\"fee_refund\":\{\"denom\":\"ugnot\",\"amount\":2400\},\"pkg_path\":\"gno\.land/r/gnoswap/pool\",\"refund_withheld\":false\},\{\"bytes_delta\":[0-9]+,\"fee_delta\":\{\"denom\":\"ugnot\",\"amount\":[0-9]+\},\"pkg_path\":\"gno\.land/r/gnoswap/position\"\}\]'
