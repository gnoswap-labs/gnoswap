loadpkg gno.land/p/gnoswap/uint256
loadpkg gno.land/p/gnoswap/int256

## start a new node
gnoland start

gnokey maketx addpkg -pkgdir $WORK -pkgpath gno.land/r/gnoswap/int256gas -gas-fee 100000ugnot -gas-wanted 100000000 -broadcast -chainid=tendermint_test test1

# Call Empty
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func Empty -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   502598'

### Constructor Methods ###
# NewInt
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestNewInt -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   3617437'

# Zero
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestZero -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   3618563'

# One
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestOne -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   3618553'

# MustFromDecimal
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestMustFromDecimal -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   6618337'

# FromUint256
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestFromUint256 -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   3629798'

### Arithmetic Operations ###
# Add
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestAdd -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   4365589'

# AddOverflow
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestAddOverflow -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   9869996'

# Sub
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestSub -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   4382174'

# SubOverflow
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestSubOverflow -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   4401211'

# Mul
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestMul -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   4428494'

# MulOverflow
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestMulOverflow -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   10107046'

# Div
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestDiv -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   4386817'

# Neg
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestNeg -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   3644946'

### Bitwise Operations ###
# And
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestAnd -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   3661933'

# Or
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestOr -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   3661979'

# Lsh (Left Shift)
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestLsh -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   4361183'

# Rsh (Right Shift)
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestRsh -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   3651200'

### Comparison Operations ###
# Eq
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestEq -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   3644861'

# Lt
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestLt -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   3640432'

# Gt
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestGt -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   3640432'

# Cmp
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestCmp -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   3641660'

# IsZero
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestIsZero -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   3623991'

# IsNeg
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestIsNeg -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   3620310'

### Absolute Value Operations ###
# Abs
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestAbs -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   3625840'

### Conversion Methods ###
# ToString
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestToString -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   5331736'

# Clone
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestClone -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   3626983'

# Sign
gnokey maketx call -pkgpath gno.land/r/gnoswap/int256gas -func TestSign -insecure-password-stdin=true -broadcast=true -chainid=tendermint_test -gas-fee 1000000ugnot -gas-wanted 1000000000 -memo "" test1
# stdout 'GAS USED:   3628520'


-- gnomod.toml --
module = "gno.land/r/gnoswap/int256gas"
gno = "0.9"

-- main.gno --
package int256gas

import (
	"gno.land/p/gnoswap/uint256"
	"gno.land/p/gnoswap/int256"
)

func Empty(cur realm) {
	return
}

// Constructor Methods
func TestNewInt(cur realm) {
	int256.NewInt(12345)
}

func TestZero(cur realm) {
	int256.Zero()
}

func TestOne(cur realm) {
	int256.One()
}

func TestMustFromDecimal(cur realm) {
	int256.MustFromDecimal("-123456789012345678901234567890")
}

func TestFromUint256(cur realm) {
	u := uint256.NewUint(12345)
	int256.FromUint256(u)
}

// Arithmetic Operations
func TestAdd(cur realm) {
	x := int256.NewInt(1000000)
	y := int256.NewInt(500000)
	z := int256.Zero()
	z.Add(x, y)
}

func TestAddOverflow(cur realm) {
	x := int256.MustFromDecimal("57896044618658097711785492504343953926634992332820282019728792003956564819967")
	y := int256.NewInt(1)
	z := int256.Zero()
	z.AddOverflow(x, y)
}

func TestSub(cur realm) {
	x := int256.NewInt(1000000)
	y := int256.NewInt(300000)
	z := int256.Zero()
	z.Sub(x, y)
}

func TestSubOverflow(cur realm) {
	x := int256.NewInt(100)
	y := int256.NewInt(200)
	z := int256.Zero()
	z.SubOverflow(x, y)
}

func TestMul(cur realm) {
	x := int256.NewInt(1000)
	y := int256.NewInt(2000)
	z := int256.Zero()
	z.Mul(x, y)
}

func TestMulOverflow(cur realm) {
	x := int256.MustFromDecimal("57896044618658097711785492504343953926634992332820282019728792003956564819967")
	y := int256.NewInt(2)
	z := int256.Zero()
	z.MulOverflow(x, y)
}

func TestDiv(cur realm) {
	x := int256.NewInt(1000000)
	y := int256.NewInt(3)
	z := int256.Zero()
	z.Div(x, y)
}

func TestNeg(cur realm) {
	x := int256.NewInt(12345)
	z := int256.Zero()
	z.Neg(x)
}

// Bitwise Operations
func TestAnd(cur realm) {
	x := int256.NewInt(0xFF00)
	y := int256.NewInt(0x0F0F)
	z := int256.Zero()
	z.And(x, y)
}

func TestOr(cur realm) {
	x := int256.NewInt(0xFF00)
	y := int256.NewInt(0x0F0F)
	z := int256.Zero()
	z.Or(x, y)
}

func TestLsh(cur realm) {
	x := int256.NewInt(1)
	z := int256.Zero()
	z.Lsh(x, 10)
}

func TestRsh(cur realm) {
	x := int256.NewInt(1024)
	z := int256.Zero()
	z.Rsh(x, 5)
}

// Comparison Operations
func TestEq(cur realm) {
	x := int256.NewInt(12345)
	y := int256.NewInt(12345)
	x.Eq(y)
}

func TestLt(cur realm) {
	x := int256.NewInt(-100)
	y := int256.NewInt(200)
	x.Lt(y)
}

func TestGt(cur realm) {
	x := int256.NewInt(200)
	y := int256.NewInt(-100)
	x.Gt(y)
}

func TestCmp(cur realm) {
	x := int256.NewInt(-100)
	y := int256.NewInt(200)
	x.Cmp(y)
}

func TestIsZero(cur realm) {
	x := int256.Zero()
	x.IsZero()
}

func TestIsNeg(cur realm) {
	x := int256.NewInt(-100)
	x.IsNeg()
}

// Absolute Value Operations
func TestAbs(cur realm) {
	x := int256.NewInt(-12345)
	x.Abs()
}

// Conversion Methods
func TestToString(cur realm) {
	x := int256.NewInt(-123456789)
	x.ToString()
}

func TestClone(cur realm) {
	x := int256.NewInt(-12345)
	x.Clone()
}

func TestSign(cur realm) {
	x := int256.NewInt(-12345)
	x.Sign()
}
