package staker

import (
	"std"
	"testing"

	"gno.land/p/demo/uassert"

	"gno.land/p/demo/testutils"
)

func init() {
	// override warm-up period for testing
	warmUp[100] = 901 // 30m ~
	warmUp[70] = 301  // 10m ~ 30m
	warmUp[50] = 151  // 5m ~ 10m
	warmUp[30] = 1    // ~ 5m
}

func TestGetWarmUp(t *testing.T) {
	std.TestSetRealm(adminRealm)

	if GetWarmUp(100) != 901 {
		panic("GetWarmUp(100) != 901")
	}
	if GetWarmUp(70) != 301 {
		panic("GetWarmUp(70) != 301")
	}
	if GetWarmUp(50) != 151 {
		panic("GetWarmUp(50) != 151")
	}
	if GetWarmUp(30) != 1 {
		panic("GetWarmUp(30) != 1")
	}
}
